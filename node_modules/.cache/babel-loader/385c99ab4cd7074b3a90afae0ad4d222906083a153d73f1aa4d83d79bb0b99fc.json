{"ast":null,"code":"export default {\n  data() {\n    return {\n      pacientes: []\n    };\n  },\n  created: function () {\n    this.consultarPacientes();\n  },\n  methods: {\n    consultarPacientes() {\n      fetch('http://localhost/api/').then(response => response.json()).then(data => {\n        console.log(data);\n        this.pacientes = [];\n        if (typeof data[0].success === 'undefined') {\n          this.pacientes = data;\n        }\n      }).catch(console.log);\n    },\n    borrarPaciente(id) {\n      console.log(id);\n      fetch('http://localhost/api/?borrar=' + id).then(response => response.json()).then(data => {\n        console.log(data);\n        window.location.href = 'listar';\n      }).catch(console.log);\n    }\n  }\n};","map":{"version":3,"names":["data","pacientes","created","consultarPacientes","methods","fetch","then","response","json","console","log","success","catch","borrarPaciente","id","window","location","href"],"sources":["C:\\Users\\asv\\Desktop\\practica1\\crudpacientes\\src\\views\\ListarView.vue"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <h1>Página para LISTAR los pacientes</h1>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <table class=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>No.</th>\r\n                            <th>Documento</th>\r\n                            <th>Nombre y apellidos</th>\r\n                            <th>Acciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"paciente in pacientes\" v-bind:key=\"paciente.id\">\r\n                            <td scope=\"row\">{{paciente.id}}</td>\r\n                            <td>{{paciente.doc}}</td>\r\n                            <td>{{paciente.name}} {{paciente.lastname}}</td>\r\n                            <td>\r\n                                <div class=\"btn-group\" role=\"group\" aria-label=\"\">\r\n                                    <button type=\"button\" class=\"btn btn-primary\">Editar</button>\r\n                                    <button type=\"button\" v-on:click=\"borrarPaciente(paciente.id)\" class=\"btn btn-danger\">Borrar</button>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div class=\"card-footer text-muted\">\r\n                @Ingeniería de Software 2024-2\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            pacientes:[]\r\n        }\r\n    },\r\n    created:function(){\r\n        this.consultarPacientes();\r\n    },\r\n    methods:{\r\n        consultarPacientes(){\r\n            fetch('http://localhost/api/')\r\n            .then(response => response.json())\r\n            .then((data) => {\r\n                console.log(data)\r\n                this.pacientes = [];\r\n                if(typeof data[0].success === 'undefined'){\r\n                    this.pacientes = data\r\n                }\r\n                })\r\n                .catch(console.log)\r\n        },\r\n        borrarPaciente(id){\r\n            console.log(id);\r\n            fetch('http://localhost/api/?borrar='+id) \r\n            .then(response=>response.json())\r\n            .then((data)=>{\r\n                console.log(data);\r\n                window.location.href='listar'\r\n            })\r\n            .catch(console.log)\r\n            }\r\n    }\r\n}\r\n</script>"],"mappings":"AAuCA,eAAe;EACXA,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,SAAS,EAAC;IACd;EACJ,CAAC;EACDC,OAAO,EAAC,SAAAA,CAAA,EAAU;IACd,IAAI,CAACC,kBAAkB,CAAC,CAAC;EAC7B,CAAC;EACDC,OAAO,EAAC;IACJD,kBAAkBA,CAAA,EAAE;MAChBE,KAAK,CAAC,uBAAuB,EAC5BC,IAAI,CAACC,QAAO,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAChCF,IAAI,CAAEN,IAAI,IAAK;QACZS,OAAO,CAACC,GAAG,CAACV,IAAI;QAChB,IAAI,CAACC,SAAQ,GAAI,EAAE;QACnB,IAAG,OAAOD,IAAI,CAAC,CAAC,CAAC,CAACW,OAAM,KAAM,WAAW,EAAC;UACtC,IAAI,CAACV,SAAQ,GAAID,IAAG;QACxB;MACA,CAAC,EACAY,KAAK,CAACH,OAAO,CAACC,GAAG;IAC1B,CAAC;IACDG,cAAcA,CAACC,EAAE,EAAC;MACdL,OAAO,CAACC,GAAG,CAACI,EAAE,CAAC;MACfT,KAAK,CAAC,+BAA+B,GAACS,EAAE,EACvCR,IAAI,CAACC,QAAQ,IAAEA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAC9BF,IAAI,CAAEN,IAAI,IAAG;QACVS,OAAO,CAACC,GAAG,CAACV,IAAI,CAAC;QACjBe,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAC,QAAO;MAChC,CAAC,EACAL,KAAK,CAACH,OAAO,CAACC,GAAG;IAClB;EACR;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}